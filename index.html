<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>🐶♥アドベントカレンダー</title>
    <!-- Tailwind CSS CDNを読み込みます -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- InterとYomogiフォントを読み込みます -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&family=Yomogi&display=swap');
        
        body {
            font-family: 'Inter', sans-serif;
            /* 背景を雪が積もったような明るいグレーに */
            background-color: #f0f4f8; 
        }

        /* タイトル専用の可愛い日本語フォントスタイル */
        .font-cute-japanese {
            font-family: 'Yomogi', cursive; /* 手書き風のYomogiを適用 */
            letter-spacing: 0.1em; /* 少し文字間を空けて可愛らしさを強調 */
            font-weight: 400; /* Yomogiは太字にしすぎない方が可愛らしい */
        }
        
        /* 金色のテキストに影をつけて、きらめきを表現 */
        .text-gold-shadow {
            text-shadow: 1px 1px 3px rgba(255, 215, 0, 0.5);
        }
        /* カードのアニメーション（扉が開く前の輝き） */
        .day-card {
            transition: transform 0.3s ease-out, box-shadow 0.3s ease-out;
        }
        .day-card:hover {
            box-shadow: 0 20px 25px -5px rgba(239, 68, 68, 0.3), 0 10px 10px -5px rgba(251, 191, 36, 0.2);
        }

        /* ロック状態のカードスタイル */
        .day-card[data-locked="true"] {
            opacity: 0.4; /* 透明度を下げて無効に見せる */
            cursor: not-allowed; /* マウスカーソルを禁止マークに */
            filter: grayscale(80%); /* グレースケールで色味を抑える */
            box-shadow: none;
            transform: none !important; /* ホバーによる移動を無効化 */
        }
        .day-card[data-locked="true"]:hover {
            box-shadow: none;
            transform: none;
        }
        /* 12月25日の特別な装飾 */
        .day-25 {
            background: linear-gradient(145deg, #fefce8, #fff); /* クリーム色のグラデーション */
            border: 5px solid #FBBF24; /* 豪華な金色の縁取り */
            box-shadow: 0 20px 30px -5px rgba(251, 191, 36, 0.7);
        }
        .day-25:hover {
             transform: scale(1.05) !important;
        }
        
        /* === モーダル（手紙が飛び出すフリップ）アニメーションのためのカスタムスタイル === */
        /* 1. モーダルオーバーレイに奥行きを設定 (3D効果を有効化) */
        #feature-detail-modal {
            perspective: 1000px; 
        }

        /* 2. モーダルコンテンツのアニメーション設定 */
        .modal-content-box {
            /* 3D変換、スケール、不透明度にトランジションを設定。飛び出し感を出すためにバネのようなカーブを使用 */
             max-height: calc(100vh - 40px); /* 画面全体の高さから上下の余白(20px*2)を引く */
            overflow-y: auto; /* コンテンツボックス全体をスクロール可能にする */
            transition: transform 0.6s cubic-bezier(0.68, -0.55, 0.27, 1.55), opacity 0.4s ease-out; 
            transform-style: preserve-3d; 
        }

        /* 3. モーダルが開く前の状態 (縦方向にフリップ + 小さく、透明) */
        .modal-start-state {
            opacity: 0;
            transform: rotateX(45deg) scale(0.7); /* 45度回転させて奥から手前に傾ける */
        }
        /* 4. モーダルが開いた後の状態 (正面 & 完全に表示) */
        .modal-end-state {
            opacity: 1;
            transform: rotateX(0deg) scale(1.0); /* ゼロに戻って正面を向く */
        }
        /* === End of Custom Modal Style === */
        
        /* === ロックメッセージボックスのスタイル === */
        #lock-message-box {
            position: fixed;
            top: 100px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 10000;
            min-width: 300px;
            padding: 12px 24px;
            background-color: #ef4444; /* 赤色 */
            color: white;
            border-radius: 9999px; /* 角丸を最大限に */
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.3);
            text-align: center;
            opacity: 0;
            transition: opacity 0.3s ease-in-out, top 0.3s ease-in-out;
        }
        .show-message {
            opacity: 1 !important;
            top: 80px !important;
        }
    </style>
    <!-- jQuery CDNを読み込みます -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
</head>
<body class="text-gray-800">

    <!-- ヘッダー (タイトルのみ) -->
    <header class="bg-red-800 shadow-xl fixed w-full z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-center items-center h-16">
                <!-- ロゴ/サイト名 (金色) - ここに日本語フォントを適用 -->
                <h1 class="text-3xl font-extrabold text-amber-400 text-gold-shadow p-2 transition font-cute-japanese">
                    🎄 勝手に 🎁
                </h1>
            </div>
        </div>
    </header>

    <main class="pt-16">
        <!-- ヒーローセクション (説明用) -->
        <section id="hero" class="bg-gradient-to-br from-red-700 to-red-900 text-white py-12 md:py-16 shadow-inner">
            <div class="max-w-4xl mx-auto text-center px-4">
                <h2 class="text-3xl sm:text-4xl font-extrabold mb-4 leading-tight text-amber-400 text-gold-shadow font-cute-japanese">
                    アドベントカレンダー！
                </h2>
                <p class="text-lg mb-0 opacity-90 font-cute-japanese">
                    🐶♥の話、無作為に詰めてます。
                </p>
            </div>
        </section>

        <!-- アドベントカレンダーセクション (25枚のカード) -->
        <section id="features" class="py-16 md:py-24">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <!-- レスポンシブなグリッドレイアウト: モバイル3列 -> タブレット4列 -> デスクトップ5列 -->
                <div class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-4 md:gap-6">

                    <!-- Day 1 - 24 (JavaScriptで動的に生成) -->
                    <script>
                        // JavaScriptを使用して24枚のカードのデータとHTMLを生成 (コードを簡潔に保つため)
                        const daysData = [];
                        const colors = [
                            {bg: '991B1B', text: 'White', title: 'Warm Light'}, 
                            {bg: '065F46', text: 'Yellow', title: 'Holly Berry'}, 
                            {bg: 'FBBF24', text: 'Black', title: 'Gold Star'}, 
                            {bg: '4F46E5', text: 'White', title: 'Midnight Blue'}
                        ];
                        
                        for (let i = 1; i <= 24; i++) {
                            const colorSet = colors[(i - 1) % colors.length];
                            // 注意: Day 1-5はタイトルと画像のプレースホルダーのみをここで設定します。
                            // 物語の本文は、後述の隠しセクション（#story-content）から読み込まれます。
                            const imageUrl = `https://placehold.co/1200x400/${colorSet.bg}/${colorSet.text}?text=Day+${i}`;
                            
                            daysData.push({
                                day: i,
                                title: `12月${i}日：${colorSet.title}`,
                                imageUrl: imageUrl
                            });
                        }

                        let cardsHtml = '';
                        daysData.forEach(data => {
                            cardsHtml += `
                                <div class="day-card bg-white p-4 sm:p-6 rounded-xl shadow-xl hover:shadow-red-400/50 transition duration-300 transform hover:-translate-y-1 cursor-pointer border-b-4 border-red-300"
                                    data-day="${data.day}"
                                    data-title="${data.title}"
                                    data-image-url="${data.imageUrl}">
                                    <h3 class="text-5xl font-extrabold text-red-800 text-center mb-2 leading-none">${data.day}</h3>
                                    <p class="text-xs text-gray-500 text-center mb-4">Click to Open</p>
                                    <!-- アイコン (飾り) -->
                                    <div class="flex justify-center text-amber-400">
                                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                                    </div>
                                </div>
                            `;
                        });
                        document.write(cardsHtml);
                    </script>

                    <!-- Day 25: Special Card -->
                    <div class="day-card day-25 p-4 sm:p-6 rounded-xl shadow-2xl transition duration-300 transform hover:-translate-y-2 cursor-pointer relative overflow-hidden"
                        data-day="25"
                        data-title="🎉 12月25日：メリークリスマス！特別な物語"
                        data-image-url="https://placehold.co/400x400/FFD700/841021?text=MERRY+XMAS">
                        <!-- キラキラエフェクト -->
                        <div class="absolute inset-0 bg-[url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="10" height="10" viewBox="0 0 10 10"><circle fill="rgba(255,255,255,0.2)" cx="5" cy="5" r="1.5"/></svg></div>
                        
                        <h3 class="text-5xl font-extrabold text-red-900 text-center mb-2 leading-none">25</h3>
                        <p class="text-xs font-bold text-red-700 text-center mb-4">GRAND OPEN!</p>
                        <!-- アイコン (星) -->
                        <div class="flex justify-center text-amber-500">
                            <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.01 8.73c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- フッター (深紅の背景) -->
    <footer class="bg-red-800 text-white py-8 mt-12">
        <div class="max-w-7xl mx-auto px-4 text-center text-sm opacity-80">
            &copy; 2024 Advent Magic. Merry Christmas!
        </div>
    </footer>
    
    <!-- ========================================================================================= -->
    <!-- === 日ごとの物語コンテンツ（管理用） === -->
    <!-- このセクションは 'hidden' クラスによって画面には表示されません。 -->
    <!-- ここに日ごとの物語を書き込むことで、コード本体を触らずにコンテンツを管理できます。 -->
    <!-- ========================================================================================= -->
    <section id="story-content" class="hidden">
        <!-- Day 1 の物語 -->
        <div id="story-day-1">
「パティさん、ダンスの相手は決まったんですか？」
「ん？なんのこと？」

「今週末にイベントあるじゃないですか？JTS主催の。」
　パティさんも参加するって救急隊の同期に聞きましたけど。
「あー、イベント……。うん、申し込みしたかも～。なんあれ、相手とか必要なの？」
「そりゃ、ダンスパーティですからね。」
　パティはJTSといえば集団での踊りが有名なため、そのダンスを見せてもらうようなイベントだと思い、面白そうだと申し込んだことを思い出した。

「社交ダンス、踊ったことないの？」
「しゃこうだんす？」
「男女でステップを踏んでムードを楽しむんですよ。」

　ほら、立って。ジャックスが急かすように、少し嬉しそうにパティをに手を差し出した。
　U FOR Uのホールが二人が手を取り合った途端に、カフェからダンスホールのように変化した。木の温もりに包まれて、暖炉がぱちぱちとリズムを刻む。ゆったりとしたOh,Jesus!のBGMを聞きながら、パティはジャックスに導かれるままホールの真ん中に進む。

　身体が密着するのもかまわず、パティは新しいことをジャックスが教えてくれるのだと嬉しそうに顔をほころばす。ジャックスは引き締まった腰に手を当て、もう片方の手を絡ませる。
「じゃあ、練習するよ。はい、いち・に・さん、いち・に・さん……」
　二人のU FOR Uの制服はもとから一つの絵画であったかのように、身体の重なりを自然なものに演出していた。

「いち。に、さん。」
　パティが小さくつぶやきながら、頭のつむじがわずかに揺れる。そして綺麗にジャックスの革靴を踏み、バランスを崩す。それを少し腕に力を入れたジャックスが支えなおす。
「あっ、ブラブラごめん。」
「いいですよ、こういうのは練習あるのみですからね。」

　しばらくすると飲み込みの速さが幸いし、軽やかにステップを刻むようになった。ジャックスは彼女がイベントに参加すれば、注目の的になるだろうと思うほどに。
　何度もパティの華奢なつま先が自分の革靴の上に触れる。その軽い衝動が伝わる度、ジャックスの心臓が小さく跳ねた。その回数が少なくなるのを寂しく感じた。

　どれほどの時間踊っていただろうか、パティの一言でジャックスはハッとする。
「ブラブラー、もう無理だよぉ。」
　するりとジャックスのリードから抜け出し、パティは近くのソファに座り込む。ジャックスはその様子に苦笑しながら隣に腰掛け、パティの脚を労わるための治療道具と飲み物を手渡した。
「ありがとう。練習も、付き合ってくれて。」
「いいえ、ステップの飲み込みがとても早くて、ジャックスも時間を忘れるくらい楽しかったです。」

　ぐでんと足を投げ出すパティに、再度声をかける。
「それで、誰と行こうと思ってたんですか？」
「えー、つんつんと行こうかなって思ってたけど、こういう感じならこみこみがいいのかなぁ。」
　スマホを手に連絡先を吟味しているであろう彼女を横目に、ジャックスは少し胸に詰まるものがある気がした。

「でもね、ブラブラがチケット持ってないんだったら、今みたいに一緒に踊れたら楽しいだろうなと思って。」
　チケット持ったもの同士が行っても問題はないのだが、自分が教えたダンスを他の男と踊るであろう彼女を見るのも面白い気がした。

「ジャックスはいつでも歓迎ですけどね。」
　満足げを装いながら、胸の痞えは未だ取れない。

        </div>

        <!-- Day 2 の物語 -->
        <div id="story-day-2">
　ロスサントスの住人には関わりのある人とない人の差が激しい。
　ただ、どんな住人でも可愛いは正義である。とゆたんぽは考えている。

　例えば、救急隊では滅多に見ないが、BMCによく来る羽山パティさん。
　んぽが街に来る前はギャング、来た頃には個人医、かかわりを得たころには半グレや餡ブレラ。つまり、黒市民であるということだけが確定している住人だ。

　しかしそのような経歴は、ゆたんぽにとっては些細な事だった。
　病院や犯罪現場では遠目からしか見れなかったパティと、BMCで出会った時には胸が躍った。
　きめの細かい白い肌、さらけ出された脚は程よく引き締まり、小さな顔には宇宙を閉じ込めたような大きな瞳。その快活そうな全体像に見合う微笑みが明るく、周りを白黒関係なく温かくする魅力。
　まさに『かわいい』の定義に当てはまる住人といえるだろう。

「ぶーん、あっ、んぽんぽ！修理お願いします。」
　いつも通り、小峯さんを乗せてゆたんぽが勤務中のBMCに車をガレージに入れて、車から降りる。
　その隙を狙って他の住人にやっているのと同じく、『ぎゅっ』とする。

　その瞬間に、彼女の身体が固まったのを回した手で察した。
　色々な人と仲が良く、特に仲の良い人とはよくおんぶや抱っこをしてもらって笑っているのを見ていた。しかし軽い一方的なハグでこれほど警戒されることに、あぁ、そういうことかと理解した。

　彼女が『心』を許さねば、本当は触れることは『脅威』になりうるのだろう。それほどの過去が積み重なって彼女を形成している。
　そしてこれ以上追求しようものなら、隣を当たり前の顔で立っている狐さんが『黒』としての対応をするのだろうことは容易に想像できる。

　『普段通り』、一方的に背中に回していた手を戻して、何も悟られないように声をかけた。
「パティさん、今日もかわいいですね！」
「しってるよ～！」　
　かわいらしい返事とともに、ほかの従業員がやってくれた修理にお礼を言う行儀のよさ。羽山パティが白市民であれば、いつか自分を受け入れてくれるように、もっと優しく深くゆっくりと関わりたいと思ったことは一度ではない。
　そんな日は来ないことを知りながら、ゆたんぽは笑顔の仮面をつけていつも通りを装う。
「いってらっしゃーい！狐さんも！！」
        </div>

        <!-- Day 3 の物語 -->
        <div id="story-day-3">
「パティは最近なんか欲しいもの、ないの？」
　リビングでパティが椅子に腰かけスマホを見ていると、家に帰ってきたアヌギフが冷蔵庫の中身を確認しながら声をかけた。
「んぇ？」
　家にいるときに会話が発生することは珍しくないが、アヌギフから話を振ってくることは稀で、まして彼から欲しいものを聞いてくるとは思いもよらず、間の抜けた声がパティの口から漏れた。

「ほら、そろそろクリスマスじゃん。なんか欲しいものないのかなって。」
　パティが継ぐ言葉に困ったのかと思ったアヌギフは少し早口で説明を入れた。
「んー、そうだなぁ。貰えるなら何でもうれしいけど……。」
　持っていたスマホをテーブルに置き、顎に人差し指を添え、少し考える。

「でも急にどうしたの？」
　パティはアヌギフがお金に困っていることは何度か見たことがあったが、積極的に人に何かを与える場面に遭遇したことはあまりない。
　核心を突かれたアヌギフは落ち着きなく何度も開け閉めしていた冷蔵庫を閉じて、少しうつむき首の後ろに手を持っていく。その仕草はパティがよく見るアヌギフの照れ隠しだった。

「前、科場さんにさ、ねだってから。」
　ぽつり、下を向いて告げられた言葉は大きなものではなかったが、アヌギフの方を向いていたパティにはしっかりと聞き取れた。
「欲しいもの多いなら、俺でもちょっとは買えるからさ。」
　甘い言葉を吐くわけでもなく、ただ不器用な言葉を集めて繋げたような発言だったが、パティは兄が何を言いたいのか理解した。

「んへへ、あのね、もろもろには今度一緒に出勤するときに送って欲しいって、おねだりしてたの。」
　内緒話をする子供のようなまなざしで、吐息を含ませて小さく紡いだ言葉に、アヌギフは街でのパティを家族の中では一番知っている自負があったため意外に思った。
　彼女は誰よりも強かに、貰えるものは当たり前に、欲しいものは誰かにねだるような。そんな生き方をこの街では基本にしてきたはずだった。
　運転手、しかも同じ屋根の下で生活している人間に。ただのかわいいおねだりだった。
「運転が慣れてきたって話、聞いたからさ。」
　嬉しそうに、主のいない部屋に視線を向けたパティにどこまでも無関心な心のどこか、知らないところがが温かくなった気がした。

「だからさ、パティ、アマギフからも何か欲しい、とかはないんだけど。……いつものモーニングコール実はうれしいからさ、いつも時間取れないけど、もっといっぱい話そ？」
　いつの間にか身体までアヌギフに向けていたパティがこちらに視線を移して首を傾ける。その耳元はおねだりに慣れていない無垢な少女のように赤らんでいた。この街の生きざまと異なる『家族』の姿に何も考えず「いいよ。」と答えていた。

「あとねあとね、もう今日パティ疲れちゃったから部屋までおんぶして～。」
「はいはい。」
　あの美しい青に芽生えた微かな対抗心さえ甘さに変えてしまう妹に、アヌギフはやはり兄にも、妹にも敵わないことを知った。いや、知っていた。

　たまに不安になる。科場に双子が頼り、その期待に応える兄。自分も双子の兄であることを自覚し、頼られていないことに不安が募り車などをあげてみるがしっくり来ていなかった。
　本人に欲しいものを聞くと、『自分』が必要だと伝えてくれる家族に、アヌギフはこの日々の愛しさを感じていた。

        </div>

        <!-- Day 4 の物語 -->
        <div id="story-day-4">
            🌟 12月4日: 一番明るい星の輝き ✨

            夜空で一番明るく輝く星は、実は、みんなの「ありがとう」の気持ちが集まってできていることを知っていますか？
            今日、あなたが一日に言った「ありがとう」が、ひとつひとつ光の粒になって空に昇り、その星をさらに明るくしました。
            感謝の気持ちは、世界を照らす光になるのです。
        </div>

        <!-- Day 5 の物語 -->
        <div id="story-day-5">
            🎁 12月5日: サンタさんの見習いトナカイ 🦌

            サンタクロースのソリを引く見習いのトナカイ、名前は「ふわふわ」。
            ふわふわはまだ空を飛ぶのが少し苦手。練習中に、雪だるまが寂しそうにしているのを見つけました。
            ふわふわは、雪だるまを元気づけるために、得意のジャンプで最高のプレゼントを届けます。
        </div>
        
        <!-- Day 6 の物語 (ここから内容を自由に追加・変更してください) -->
        <div id="story-day-6">
            --- 12月6日: 物語を書き込みましょう！ ---
            ここに、6日目の物語のテキストが入ります。
        </div>
        <div id="story-day-7">
            --- 12月7日: 物語を書き込みましょう！ ---
            ここに、7日目の物語のテキストが入ります。
        </div>
        <div id="story-day-8">
            --- 12月8日: 物語を書き込みましょう！ ---
            ここに、8日目の物語のテキストが入ります。
        </div>
        <div id="story-day-9">
            --- 12月9日: 物語を書き込みましょう！ ---
            ここに、9日目の物語のテキストが入ります。
        </div>
        <div id="story-day-10">
            --- 12月10日: 物語を書き込みましょう！ ---
            ここに、10日目の物語のテキストが入ります。
        </div>
        <div id="story-day-11">
            --- 12月11日: 物語を書き込みましょう！ ---
            ここに、11日目の物語のテキストが入ります。
        </div>
        <div id="story-day-12">
            --- 12月12日: 物語を書き込みましょう！ ---
            ここに、12日目の物語のテキストが入ります。
        </div>
        <div id="story-day-13">
            --- 12月13日: 物語を書き込みましょう！ ---
            ここに、13日目の物語のテキストが入ります。
        </div>
        <div id="story-day-14">
            --- 12月14日: 物語を書き込みましょう！ ---
            ここに、14日目の物語のテキストが入ります。
        </div>
        <div id="story-day-15">
            --- 12月15日: 物語を書き込みましょう！ ---
            ここに、15日目の物語のテキストが入ります。
        </div>
        <div id="story-day-16">
            --- 12月16日: 物語を書き込みましょう！ ---
            ここに、16日目の物語のテキストが入ります。
        </div>
        <div id="story-day-17">
            --- 12月17日: 物語を書き込みましょう！ ---
            ここに、17日目の物語のテキストが入ります。
        </div>
        <div id="story-day-18">
            --- 12月18日: 物語を書き込みましょう！ ---
            ここに、18日目の物語のテキストが入ります。
        </div>
        <div id="story-day-19">
            --- 12月19日: 物語を書き込みましょう！ ---
            ここに、19日目の物語のテキストが入ります。
        </div>
        <div id="story-day-20">
            --- 12月20日: 物語を書き込みましょう！ ---
            ここに、20日目の物語のテキストが入ります。
        </div>
        <div id="story-day-21">
            --- 12月21日: 物語を書き込みましょう！ ---
            ここに、21日目の物語のテキストが入ります。
        </div>
        <div id="story-day-22">
            --- 12月22日: 物語を書き込みましょう！ ---
            ここに、22日目の物語のテキストが入ります。
        </div>
        <div id="story-day-23">
            --- 12月23日: 物語を書き込みましょう！ ---
            ここに、23日目の物語のテキストが入ります。
        </div>
        <div id="story-day-24">
            --- 12月24日: クリスマスイブの物語を！ ---
            ここに、24日目の物語のテキストが入ります。
        </div>
        <!-- Day 25: スペシャル -->
        <div id="story-day-25">
            🎉 12月25日: メリークリスマス！最高の一日！ 🎅

            夜空を駆けるサンタクロースのソリの音が、遠くから聞こえてきました。
            サンタさんが持ってきたのは、あなたへの特別な手紙。

            「一年間、よく頑張りましたね。
            このカレンダーの全ての扉を開けたあなたは、きっと世界一優しい心の持ち主です。
            今日という日が、愛と喜びで満たされますように！
            メリークリスマス！」
        </div>
    </section>

    <!-- 特徴の詳細モーダル (深紅のオーバーレイと金色のアクセント) -->
    <div id="feature-detail-modal" class="hidden fixed inset-0 bg-red-900 bg-opacity-80 z-[9999] flex items-center justify-center p-4">
        <!-- モーダルコンテンツボックス (初期状態でアニメーション開始前のクラスを付与) -->
        <!-- perspectiveを設定した親要素の中で、3D回転アニメーションを行います -->
        <div class="modal-content-box bg-white w-full max-w-xl p-8 rounded-xl shadow-2xl relative border-4 border-amber-400 modal-start-state">
            <button id="close-modal-button" class="absolute top-4 right-4 text-gray-500 hover:text-red-700 transition">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
            </button>
            
            <!-- NEW: 画像表示用のコンテナ -->
            <div id="modal-image-container" class="mb-6 rounded-lg overflow-hidden shadow-xl border-4 border-red-200">
                <!-- ここに画像が動的に挿入されます -->
            </div>
            
            <!-- アイコン表示用のコンテナ (カードのアイコンを大きく表示) -->
            <div id="modal-icon-container" class="text-amber-500 mb-6 flex justify-center drop-shadow-lg">
                <!-- ここにSVGが動的に挿入されます -->
            </div>

            <h3 id="modal-title" class="text-3xl font-extrabold text-red-800 text-center mb-4"></h3>
            <!-- detailのテキストが物語になるようにプレースホルダの内容を調整しました -->
            <p id="modal-detail" class="text-gray-700 text-lg leading-relaxed whitespace-pre-wrap text-left"></p>
        </div>
    </div>


    <!-- jQueryによる動的処理スクリプト -->
    <script>
        // DOMの準備が完了したら実行
        $(document).ready(function() {

            // ===============================================
            // 1. 特徴カード（アドベント扉）のクリックで詳細モーダルを表示する機能
            // ===============================================
            $('.day-card').on('click', function() {
                const day = $(this).data('day');
                const title = $(this).data('title');
                const imageUrl = $(this).data('image-url');
                
                // NEW: 隠しセクションから日ごとの物語コンテンツを読み込みます
                const detail = $(`#story-day-${day}`).text().trim();
                
                const $modal = $('#feature-detail-modal');
                const $contentBox = $modal.find('.modal-content-box');
                const $imageContainer = $('#modal-image-container');

                // ----------------------------------------------------
                // 画像の挿入
                // ----------------------------------------------------
                if (imageUrl) {
                    const imageMarkup = `
                        <img src="${imageUrl}" alt="${title}のデモ画像" class="w-full h-auto object-cover">
                    `;
                    $imageContainer.html(imageMarkup).show(); // 画像を挿入し、コンテナを表示
                } else {
                    $imageContainer.hide();
                }
                
                // ----------------------------------------------------
                // テキストコンテンツの更新
                // ----------------------------------------------------
                $('#modal-title').text(title);
                // `whitespace-pre-wrap` クラスを活かすために、詳細テキストをそのまま設定
                $('#modal-detail').text(detail);
                
                // ----------------------------------------------------
                // モーダルの表示とアニメーション (手紙が飛び出すフリップ)
                // ----------------------------------------------------
                
                // 1. モーダル背景をすぐにフェードインで表示 (オーバーレイ)
                $modal.fadeIn(200, function() {
                    // 2. モーダルコンテンツの初期状態クラスを削除し、終了状態クラスを追加
                    //    これにより、CSSで定義された transform transitionがトリガーされ、フリップアニメーションが始まる
                    $contentBox.removeClass('modal-start-state').addClass('modal-end-state');
                    
                    // モーダル表示中は背景のスクロールを禁止
                    $('body').addClass('overflow-hidden');
                });
            });

            // ===============================================
            // 2. モーダルを閉じる共通処理
            // ===============================================
            const closeModal = function() {
                const $modal = $('#feature-detail-modal');
                const $contentBox = $modal.find('.modal-content-box');

                // 1. アニメーション逆再生 (フリップして奥に消える動き)
                $contentBox.removeClass('modal-end-state').addClass('modal-start-state');

                // 2. CSSアニメーションが終わるのを待ってから（0.6秒後）、背景をフェードアウト
                //    CSSの transform transition duration (0.6s) に合わせる
                setTimeout(function() {
                    $modal.fadeOut(200, function() {
                        // 背景のスクロール禁止を解除
                        $('body').removeClass('overflow-hidden');
                        
                        // コンテンツをクリア (次のカードのためにリセット)
                        $('#modal-image-container').empty().hide();
                        $('#modal-title').empty();
                        $('#modal-detail').empty();
                    });
                }, 600); 
            };

            // 閉じるボタンがクリックされたとき
            $('#close-modal-button').on('click', function(e) {
                e.preventDefault(); // ボタンのデフォルト動作を停止
                closeModal();
            });

            // オーバーレイ（モーダル背景）がクリックされたとき
            $('#feature-detail-modal').on('click', function(e) {
                // クリックされた要素がモーダル自体（.modal-content-boxの外部）であるかを確認
                if (e.target.id === 'feature-detail-modal') {
                    closeModal();
                }
            });

            // モーダルコンテンツ内をクリックしても閉じないようにイベント伝播を停止（念のため）
            $('.modal-content-box').on('click', function(e) {
                e.stopPropagation();
            });
        });
    </script>
</body>
</html>